<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A demo is an opinionated application that automatically creates the VulkanContext, Swapchain, FramesInFlight and other common utilities."><title>Demo in demo_vk::demo - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="demo_vk" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../demo_vk/index.html">demo_vk</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">Demo</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Args">Args</a></li></ul><h3><a href="#provided-associated-consts">Provided Associated Constants</a></h3><ul class="block"><li><a href="#associatedconstant.FRAMES_IN_FLIGHT_COUNT">FRAMES_IN_FLIGHT_COUNT</a></li><li><a href="#associatedconstant.FRAMES_PER_SECOND">FRAMES_PER_SECOND</a></li><li><a href="#associatedconstant.INITIAL_WINDOW_SIZE">INITIAL_WINDOW_SIZE</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.new">new</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.draw">draw</a></li><li><a href="#method.handle_event">handle_event</a></li><li><a href="#method.paused">paused</a></li><li><a href="#method.rebuild_swapchain_resources">rebuild_swapchain_resources</a></li><li><a href="#method.unpaused">unpaused</a></li><li><a href="#method.update">update</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In demo_<wbr>vk::<wbr>demo</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">demo_vk</a>::<wbr><a href="index.html">demo</a>::<wbr><a class="trait" href="#">Demo</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/demo_vk/demo/mod.rs.html#57-183">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Demo {
    type <a href="#associatedtype.Args" class="associatedtype">Args</a>: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="../../clap_builder/derive/trait.Parser.html" title="trait clap_builder::derive::Parser">Parser</a>;

    const <a href="#associatedconstant.FRAMES_IN_FLIGHT_COUNT" class="constant">FRAMES_IN_FLIGHT_COUNT</a>: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.usize.html">usize</a> = 3usize;
    const <a href="#associatedconstant.INITIAL_WINDOW_SIZE" class="constant">INITIAL_WINDOW_SIZE</a>: (<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.i32.html">i32</a>, <a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.i32.html">i32</a>) = _;
    const <a href="#associatedconstant.FRAMES_PER_SECOND" class="constant">FRAMES_PER_SECOND</a>: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.u32.html">u32</a> = 120u32;

    // Required method
    fn <a href="#tymethod.new" class="fn">new</a>(window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>, gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;Self&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a></span>;

    // Provided methods
    fn <a href="#method.handle_event" class="fn">handle_event</a>(
        &amp;mut self,
        window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
        gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
        event: <a class="enum" href="../../glfw/enum.WindowEvent.html" title="enum glfw::WindowEvent">WindowEvent</a>,
    ) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.update" class="fn">update</a>(
        &amp;mut self,
        window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
        gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
    ) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.draw" class="fn">draw</a>(
        &amp;mut self,
        window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
        gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
        frame: &amp;<a class="struct" href="../graphics/vulkan/struct.Frame.html" title="struct demo_vk::graphics::vulkan::Frame">Frame</a>,
    ) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.rebuild_swapchain_resources" class="fn">rebuild_swapchain_resources</a>(
        &amp;mut self,
        window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
        gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
    ) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.paused" class="fn">paused</a>(
        &amp;mut self,
        window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
        gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
    ) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.unpaused" class="fn">unpaused</a>(
        &amp;mut self,
        window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
        gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
    ) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A demo is an opinionated application that automatically creates the
VulkanContext, Swapchain, FramesInFlight and other common utilities.</p>
<p>The demo splits the applicationâs update() function into two parts:</p>
<ul>
<li>update(): update the applicationâs state</li>
<li>draw(): build the frameâs command buffer</li>
</ul>
<p>Draw is separate because update() does not wait for the next swapchain
image. There are some operations that may not depend on the swapchain and
can reasonably be started before the frameâs command buffer is ready to be
recorded. (ticking a physics simulation, etcâ¦)</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">Â§</a></h2><div class="methods"><section id="associatedtype.Args" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#58">source</a><h4 class="code-header">type <a href="#associatedtype.Args" class="associatedtype">Args</a>: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="../../clap_builder/derive/trait.Parser.html" title="trait clap_builder::derive::Parser">Parser</a></h4></section></div><h2 id="provided-associated-consts" class="section-header">Provided Associated Constants<a href="#provided-associated-consts" class="anchor">Â§</a></h2><div class="methods"><section id="associatedconstant.FRAMES_IN_FLIGHT_COUNT" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#59">source</a><h4 class="code-header">const <a href="#associatedconstant.FRAMES_IN_FLIGHT_COUNT" class="constant">FRAMES_IN_FLIGHT_COUNT</a>: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.usize.html">usize</a> = 3usize</h4></section><section id="associatedconstant.INITIAL_WINDOW_SIZE" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#60">source</a><h4 class="code-header">const <a href="#associatedconstant.INITIAL_WINDOW_SIZE" class="constant">INITIAL_WINDOW_SIZE</a>: (<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.i32.html">i32</a>, <a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.i32.html">i32</a>) = _</h4></section><section id="associatedconstant.FRAMES_PER_SECOND" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#61">source</a><h4 class="code-header">const <a href="#associatedconstant.FRAMES_PER_SECOND" class="constant">FRAMES_PER_SECOND</a>: <a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.u32.html">u32</a> = 120u32</h4></section></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.new" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#67-72">source</a><h4 class="code-header">fn <a href="#tymethod.new" class="fn">new</a>(window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>, gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;Self&gt;<div class="where">where
    Self: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>Creates a new instance of the demo.
The application is allowed to modify the window based on its own
requirements. This includes modifying the polling state, fullscreen
status, size, etcâ¦</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.handle_event" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#78-94">source</a><h4 class="code-header">fn <a href="#method.handle_event" class="fn">handle_event</a>(
    &amp;mut self,
    window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
    gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
    event: <a class="enum" href="../../glfw/enum.WindowEvent.html" title="enum glfw::WindowEvent">WindowEvent</a>,
) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Handles a single GLFW event.</p>
<p>This function is called in a loop to consume any pending events before
every call to update().</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.update" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#100-106">source</a><h4 class="code-header">fn <a href="#method.update" class="fn">update</a>(
    &amp;mut self,
    window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
    gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Called in a loop after all pending events have been processed.</p>
<p>This is a good place for rendering logic. This method blocks event
processing, so it should be kept as responsive as possible.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.draw" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#111-148">source</a><h4 class="code-header">fn <a href="#method.draw" class="fn">draw</a>(
    &amp;mut self,
    window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
    gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
    frame: &amp;<a class="struct" href="../graphics/vulkan/struct.Frame.html" title="struct demo_vk::graphics::vulkan::Frame">Frame</a>,
) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Build the command buffer for the next frame.</p>
<p>Called after update() once the Frame is started.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.rebuild_swapchain_resources" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#155-161">source</a><h4 class="code-header">fn <a href="#method.rebuild_swapchain_resources" class="fn">rebuild_swapchain_resources</a>(
    &amp;mut self,
    window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
    gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Rebuild any of the demoâs swapchain-dependent resources.</p>
<p>All pending frames in flight are guaranteed to have completed by the
time this function is called. E.G. any previously-recorded Frame command
buffers are guaranteed to be finished.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.paused" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#167-173">source</a><h4 class="code-header">fn <a href="#method.paused" class="fn">paused</a>(
    &amp;mut self,
    window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
    gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Called when the application is paused.</p>
<p>The application is paused automatically any time the framebuffer has
size of 0. This occurs when the application is minimized, etc..</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.unpaused" class="method"><a class="src rightside" href="../../src/demo_vk/demo/mod.rs.html#176-182">source</a><h4 class="code-header">fn <a href="#method.unpaused" class="fn">unpaused</a>(
    &amp;mut self,
    window: &amp;mut <a class="struct" href="../../glfw/struct.Window.html" title="struct glfw::Window">Window</a>,
    gfx: &amp;mut <a class="struct" href="struct.Graphics.html" title="struct demo_vk::demo::Graphics">Graphics</a>&lt;Self::<a class="associatedtype" href="trait.Demo.html#associatedtype.Args" title="type demo_vk::demo::Demo::Args">Args</a>&gt;,
) -&gt; <a class="type" href="../../anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.82.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Called when the application is unpaused.</p>
</div></details></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">Â§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.82.0/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">Â§</a></h2><div id="implementors-list"></div><script src="../../trait.impl/demo_vk/demo/trait.Demo.js" async></script></section></div></main></body></html>